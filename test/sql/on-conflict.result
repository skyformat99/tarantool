test_run = require('test_run').new()
---
...
-- Create space
box.sql.execute("CREATE TABLE t (id INTEGER PRIMARY KEY, v INTEGER UNIQUE ON CONFLICT ABORT)")
---
...
box.sql.execute("CREATE TABLE q (id INTEGER PRIMARY KEY, v INTEGER UNIQUE ON CONFLICT FAIL)")
---
...
box.sql.execute("CREATE TABLE p (id INTEGER PRIMARY KEY, v INTEGER UNIQUE ON CONFLICT IGNORE)")
---
...
box.sql.execute("CREATE TABLE e (id INTEGER PRIMARY KEY, v INTEGER NOT NULL ON CONFLICT REPLACE DEFAULT 1337)")
---
...
-- Insert values and select them
box.sql.execute("INSERT INTO t values (1, 1), (2, 2), (3, 1)")
---
- error: 'UNIQUE constraint failed: T.V'
...
box.sql.execute("SELECT * FROM t")
---
- []
...
box.sql.execute("INSERT INTO q values (1, 1), (2, 2), (3, 1)")
---
- error: 'UNIQUE constraint failed: Q.V'
...
box.sql.execute("SELECT * FROM q")
---
- - [1, 1]
  - [2, 2]
...
box.sql.execute("INSERT INTO p values (1, 1), (2, 2), (3, 1), (4, 5)")
---
...
box.sql.execute("SELECT * FROM p")
---
- - [1, 1]
  - [2, 2]
  - [4, 5]
...
box.sql.execute("INSERT INTO e values (1, 1), (2, 2), (3, 1)")
---
...
box.sql.execute("SELECT * FROM e")
---
- - [1, 1]
  - [2, 2]
  - [3, 1]
...
box.sql.execute('DROP TABLE t')
---
...
box.sql.execute('DROP TABLE q')
---
...
box.sql.execute('DROP TABLE p')
---
...
box.sql.execute('DROP TABLE e')
---
...
